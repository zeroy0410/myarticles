#### 题目

[题目链接](https://www.luogu.org/problem/P4542)



#### 思路

首先，看数据范围比较小，想到网络流。

对于最短路的那部分，在走到j的时候，不能经过>j的点，所以在Floyd的时候我们加一层限制K<=j处理出最短路。

然后考虑网络流建边。会发现有这么几个限制：

1. 从小的点走向大的点
2. 每个点都必须走到
3. 每个点的